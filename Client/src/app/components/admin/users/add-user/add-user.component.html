<div class="container mt-5">
  <div class="row mt-2 flex justify-content-center">
    <!-- <div class="col-md-3 text-center">
          <img src="../../../assets/payspot/MainLogoBig.jpeg" width="80%" height="auto;">
      </div> -->
    <div class="col-md-8 contact">
      <mat-card>
        <mat-card-title>Add New User</mat-card-title>
        <mat-card-subtitle>add new user here...</mat-card-subtitle>
        <mat-card-content>
          <form [formGroup]="registerForm" (ngSubmit)="registerForm.valid && register()" autocomplete="off">
            <mat-form-field appearance="fill">
              <mat-label>First Name</mat-label>
              <input matInput formControlName="firstName" [errorStateMatcher]="customErrorStateMatcher">
              <mat-error *ngIf="getFormControl('firstName').hasError('required')"
                [innerHTML]="getErrorMessage('firstName','required')"></mat-error>
              <mat-error *ngIf="getFormControl('firstName').hasError('minlength')"
                [innerHTML]="getErrorMessage('firstName','minlength')"></mat-error>
              <mat-error *ngIf="getFormControl('firstName').hasError('pattern')"
                [innerHTML]="getErrorMessage('firstName','pattern')"></mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Last Name</mat-label>
              <input matInput formControlName="lastName">
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Employee</mat-label>
              <input matInput formControlName="employeeId" [errorStateMatcher]="customErrorStateMatcher">
              <mat-error *ngIf="getFormControl('employeeId').hasError('required')"
                [innerHTML]="getErrorMessage('employeeId','required')"></mat-error>              
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Email</mat-label>
              <input matInput formControlName="email">
              <mat-error *ngIf="getFormControl('email').hasError('required')"
                [innerHTML]="getErrorMessage('email','required')"></mat-error>
              <mat-error *ngIf="getFormControl('email').hasError('email')"
                [innerHTML]="getErrorMessage('email','email')"></mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Mobile</mat-label>
              <input matInput formControlName="phoneNumber">
              <mat-error *ngIf="getFormControl('phoneNumber').hasError('required')"
                [innerHTML]="getErrorMessage('phoneNumber','required')"></mat-error>
              <mat-error *ngIf="getFormControl('phoneNumber').hasError('minlength')"
                [innerHTML]="getErrorMessage('phoneNumber','minlength')"></mat-error>
              <mat-error *ngIf="getFormControl('phoneNumber').hasError('maxlength')"
                [innerHTML]="getErrorMessage('phoneNumber','maxlength')"></mat-error>
              <mat-error *ngIf="getFormControl('phoneNumber').hasError('pattern')"
                [innerHTML]="getErrorMessage('phoneNumber','pattern')"></mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill" *ngIf="states !== null">
              <mat-label>State</mat-label>
              <mat-select formControlName="stateId">
                <!-- <mat-optgroup label="A"> -->
                <mat-option *ngFor="let state of states" [value]="state.stateId">
                  {{state.stateName}}
                </mat-option>
                <!-- </mat-optgroup> -->
              </mat-select>
              <mat-error *ngIf="getFormControl('stateId').hasError('required')"
                [innerHTML]="getErrorMessage('stateId','required')"></mat-error>
            </mat-form-field>  
            <mat-form-field appearance="fill" *ngIf="states !== null">
              <mat-label>City</mat-label>
              <mat-select formControlName="cityId">
                <!-- <mat-optgroup label="A"> -->
                <mat-option *ngFor="let state of states" [value]="state.stateId">
                  {{state.stateName}}
                </mat-option>
                <!-- </mat-optgroup> -->
              </mat-select>
              <mat-error *ngIf="getFormControl('cityId').hasError('required')"
                [innerHTML]="getErrorMessage('cityId','required')"></mat-error>
            </mat-form-field>         
            <mat-form-field appearance="fill" *ngIf="userRoles !== null">
              <mat-label>Role</mat-label>
              <mat-select formControlName="role">
                <!-- <mat-optgroup label="A"> -->
                <mat-option *ngFor="let role of userRoles" [value]="role">
                  {{role}}
                </mat-option>
                <!-- </mat-optgroup> -->
              </mat-select>
              <mat-error *ngIf="getFormControl('role').hasError('required')"
                [innerHTML]="getErrorMessage('role','required')"></mat-error>
            </mat-form-field>     
            <div class="row">
              <!-- <div class="col-md-6">
                              <button mat-raised-button color="primary" class="btn-block mt-3" routerLink="/login">
                                  Go to Sign-In <mat-icon>login</mat-icon>
                              </button>
                          </div> -->
              <div class="col-md-6">
                <button mat-raised-button color="primary" class="btn-block mt-3" [disabled]="!registerForm.valid">
                  Submit<mat-icon>send</mat-icon>
                </button>
              </div>
            </div>
          </form>
        </mat-card-content>
        <img mat-card-image>
        <mat-card-actions></mat-card-actions>
        <mat-card-footer></mat-card-footer>
      </mat-card>
    </div>
  </div>
</div>

<!-- <div class="mt-4">{{registerForm.value | json}}</div> -->